<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Azure Media Player</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!--*****START OF Azure Media Player Scripts*****-->
	<link href="//amp.azure.net/libs/amp/latest/skins/amp-default/azuremediaplayer.min.css" rel="stylesheet">
	<script src="//amp.azure.net/libs/amp/latest/azuremediaplayer.min.js"></script>
	<!--*****END OF Azure Media Player Scripts*****-->

</head>
<body style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" onload="setTrack('jp', 'subtitles');">
	<h1>Azure Media Analytics: Indexerによる字幕表示</h1>
	<video id="azuremediaplayer" class="azuremediaplayer amp-default-skin amp-big-play-centered" tabindex="0"></video>

	<script>
	var myOptions = {
		"nativeControlsForTouch": false,
		controls: true,
		autoplay: true,
		width: "640",
		height: "400",
	}
	var myPlayer = amp("azuremediaplayer", myOptions);
	myPlayer.src([
	        {
	                "src": "http://dahatakemediademo.streaming.mediaservices.windows.net/eba27d21-8b20-45b1-abad-6b86147229d6/KeynoteJP_mid.ism/manifest",
					"type": "application/vnd.ms-sstr+xml"
	        }
	],
	[
           	{"src": "http://dahatakemediademo.streaming.mediaservices.windows.net/926ca56b-3cc1-46aa-b020-26fac5ace4c7/KeynoteJP_mid_aud_SpReco.vtt", srclang: "jp", kind: "subtitles", label: "日本語(20161219)"},
           	{"src": "http://dahatakemediademo.streaming.mediaservices.windows.net/2cd0c46d-9124-476d-83f2-df24a803e467/KeynoteJP_mid_aud_SpReco.vtt", srclang: "jp2", kind: "subtitles", label: "日本語(20170401)"}

	]
	);

        var setTrack = function (language, kind) {
            for (var i = 0; i < myPlayer.textTracks_.length ; i++) {
                if (myPlayer.textTracks_.tracks_[i].mode != "disabled") {
                    myPlayer.textTracks_.tracks_[i].mode = "disabled";
                }
            }
            for (var i = 0; i < myPlayer.textTracks_.length ; i++) {
                if (myPlayer.textTracks_.tracks_[i].language == language && myPlayer.textTracks_.tracks_[i].kind == kind) {
                    myPlayer.textTracks_.tracks_[i].mode = "showing";
                    break;
                }
            }
        }
	

	</script>

    <footer>
        <br />
        <p>© Microsoft Corporation 2017</p>
    </footer>

</body>
</html>
